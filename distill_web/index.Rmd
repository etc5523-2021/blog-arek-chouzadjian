---
title: "Arek Chouzadjian Blog"
description: |
  Welcome to the website. I hope you enjoy it!
site: distill::distill_website
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

# Learn more about creating websites with Distill at:
# https://rstudio.github.io/distill/website.html

```

```{r}
library(tidyverse)
library(coronavirus)
library(lubridate)
library(DT)
library(stargazer)
```

```{r}
data(coronavirus)
```

```{r}
panama <- coronavirus %>%
  filter(country == "Panama")
```

```{r}
panama_confirmed <- panama %>%
  filter(type == "confirmed")
```

```{r}
confirmed_yr_mth <- panama_confirmed %>%
  mutate(Year = year(date), Month = month(date, label = TRUE)) %>%
  group_by(Year, Month) %>%
  tally(cases) %>%
  rename(Cases = n)
```

```{r}
panama_deaths <- panama %>%
  filter(type == "death")
```

```{r}
deaths_yr_mth <- panama_deaths %>%
  mutate(Year = year(date), Month = month(date, label = TRUE)) %>%
  group_by(Year, Month) %>%
  tally(cases) %>%
  rename(Deaths = n)
```

```{r}
cases_and_deaths <- confirmed_yr_mth %>%
  left_join(deaths_yr_mth) %>%
  mutate(Death_Rate = (Deaths/Cases)*100) %>%
  filter(Cases != 0) %>%
  rename("Death Rate (%)" = Death_Rate)
```

# Data description

The dataset is sourced from the coronavirus package, which is either installed from the CRAN, or is installed directly from GitHub (github.com/RamiKrispin/coronavirus). In this case, I have installed the package from the CRAN. The raw data in the package is pulled from the Johns Hopkins University Centre for Systems Science and Engineering Coronavirus repository. 

The dataset contains data on COVID-19 confirmed cases, deaths and recoveries in each country, from January 22 2020, to 27 May 2021. It also contains the latitude and longitude for each country. As I am only focusing on Panama, I can forego a description of the country, latitude and longitude variables. 

The Panama COVID-19 data features three important variables - date, type and cases. 

- The variable 'date' is a date variable that contains each date, from 22 January 2020, to 27 May 2021, in ymd format. 

- The variable 'type' is a character variable that contains three levels - 'confirmed', 'death' and 'recovered'. 'Confirmed' refers to total cases on any given day, 'death' refers to total deaths on any given day, and 'recovered' refers to the total number of recovered cases reported on any given day. 

- The variable 'cases' is a numeric variable that contains the number of confirmed cases, deaths or recoveries for each day. 

The dataset that is downloaded through the coronavirus package is in a largely tidy format, so not much data wrangling is required. It is very easy to use. 

# Monthly confirmed cases and deaths, and the monthly death rate:

The first table included in this post is an interactive table, created using the DT package, that features confirmed cases of, and deaths from, COVID-19 in Panama. It also contains a calculation of the Death Rate per month, which is just the number of deaths per months divided by the number of cases, multiplied by 100.  

```{r}
datatable(cases_and_deaths, class = 'cell-border hover', rownames = FALSE, 
          caption = 'Table of Monthly Confirmed Cases, Deaths and Death Rate')
```

The Death Rate variable I have included is the same as the Case Fatality Rate (CFR) measure. The reason why I have included the Death Rate is that it provides a measure of the efficacy of two things:

1. Level of testing and ability to find cases - The Infection Fatality Rate (IFR) of COVID-19, which represents the number of people who are infected who die, is estimated to be between 1-2%. When the CFR is closer to the IFR, it indicates, generally speaking, that a country's health system is better able to discover and record cases, through higher rates of testing. 

2. Coverage and efficacy of vaccination - In countries with high full vaccination rates, the CFR has dropped significantly. Therefore, the CFR acts as an observable indication of both vaccine efficacy, and vaccine coverage.

## Findings



*Second table will be a summary statistics table - use stargazer().







